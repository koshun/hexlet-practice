(()=>{"use strict";const e=(e,t)=>{const s=e[t],c=new Set(...[e.split("")]);return c.delete(s),[...c].join("")};(()=>{const t=document.querySelector(".password-length__range"),s=document.querySelector(".password-length__output"),c=document.querySelectorAll(".checkbox"),o={pwdLength:10};t.addEventListener("input",(e=>{o.pwdLength=e.target.value,s.setAttribute("placeholder",o.pwdLength)}));const n=document.querySelector(".copy-password__button"),r=document.querySelector(".output-form__password"),a=document.querySelector(".generate-password__button"),d=document.querySelector(".repeat__button"),u=document.querySelector(".password-check"),l=document.querySelector(".password-check > span"),p=(e,t)=>e.className.split(" ").filter((e=>!e.startsWith(t))).join(" "),i=()=>{const e=(e=>{let t=0;const s={"[a-z]":26,"[A-Z]":26,"[0-9]":10,"[^a-zA-Z0-9 ]":31};for(const[c,o]of Object.entries(s))new RegExp(c).test(e)&&(t+=o);return Math.round(Math.log2(t**e.length),2)})(r.value);u.className=p(u,"password-check_"),l.className=p(l,"password-check-text"),e<52&&(u.classList.add("password-check_bad"),l.classList.add("password-check-text_bad"),l.innerHTML="Плохой"),e>=52&&e<=105&&(u.classList.add("password-check_good"),l.classList.add("password-check-text_good"),l.innerHTML="Хороший"),e>105&&(u.classList.add("password-check_protected"),l.classList.add("password-check-text_protected"),l.innerHTML="Надежный")},h=()=>{r.value=(c.forEach((e=>{const t=e.classList;t.contains("checkbox-group__include-numbers-input")&&(o.useDigits=e.checked),t.contains("checkbox-group__include-symbols-input")&&(o.useSymbols=e.checked),t.contains("checkbox-group__include-chars-input-upper")&&(o.useUpperCase=e.checked),t.contains("checkbox-group__include-chars-input-lower")&&(o.useLowerCase=e.checked)})),(t=>{let s="",c="";const o=t.pwdLength;t.useDigits&&(c+="0123456789"),t.useLowerCase&&(c+="abcdefghijklmnopqrstuvwxyz"),t.useUpperCase&&(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.useSymbols&&(c+="!@#$%^&*_-+=`|\\(){}[]:;\"'<>,.?/");let n=c;for(let t=0;t<o;t+=1){0===n.length&&(n=c);const t=(r=n.length-1,Math.floor(0+Math.random()*(r-0+1)));s+=n.charAt(t),n=e(n,t)}var r,a,d;return{password:s,complexity:(a=s.length,d=c.length,Math.round(Math.log2(d**a),2))}})(o).password),i()};h(),a.addEventListener("click",h),d.addEventListener("click",h),r.addEventListener("input",i),n.addEventListener("click",(()=>{r.select(),document.execCommand("copy")})),c.forEach((e=>e.addEventListener("click",h))),t.addEventListener("input",h)})()})();